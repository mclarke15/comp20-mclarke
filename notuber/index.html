<!DOCTYPE HTML>

<html>

	<head>
		<title> Geolocation Maps </title>
		<link rel="stylesheet" href="black-car.css"/>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
		<meta charset="utf-8">
		<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDTQSI7VgH3XGal2XhDCXr_Hq0v0bRDRoM&callback=initMap"></script>
		<script>
			var lat = 0;
			var lng = 0;
			var request = new XMLHttpRequest();
			var myLocation = google.maps.LatLng(lat, lng);
			var map;
			var pin;
			var infoWindow = google.maps.InfoWindow();
			var Options = {
				zoom: 15,
				center: myLocation,
				mapTypeId: google.maps.MapTypeId.ROADMAP
			};

			window.addEventListener('load', getCoordinates);
			function init() {
				map = new google.maps.Map(document.getElementById("map"), myOptions);
				getMyLocation();
			}

			function getCoordinates() {
				function getMyLocation(position) {
					if (navigator.geolocation) { 
							//navigator.geolocation.getCurrentPosition(function(position) {
								lat = position.coords.latitude;
								lng = position.coords.longitude;
								renderMap(lat, lng);
							//});
						}
						else {
							alert("Geolocation is not supported by your web browser");
						}
				}
				navigator.geolocation.getCurrentPosition(getMyLocation);
			}

			function renderMap() {
				myLocation = new google.maps.LatLng(myLat, myLng);
					
					map.panTo(myLocation);
		
					pin = new google.maps.Marker({
						position: myLocation,
						size: new gogole.maps.Size(3, 3)
						icon: 'profile.png'
					});
					pin.setMap(map);
						
					var infoWindow = new google.maps.InfoWindow();

					getData(lat, lng);
			}

		</script>
	</head>

	<body onload="init()">
		<div id="map-display"> </div>
	</body>

</html>